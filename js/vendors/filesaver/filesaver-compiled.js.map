{"version":3,"sources":["filesaver.js"],"names":[],"mappings":"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","file":"filesaver-compiled.js","sourcesContent":["/**\r\n * Created by udaltsov on 07.04.16.\r\n */\r\n/* FileSaver.js\r\n * A saveAs() FileSaver implementation.\r\n * 1.1.20160328\r\n *\r\n * By Eli Grey, http://eligrey.com\r\n * License: MIT\r\n *   See https://github.com/eligrey/FileSaver.js/blob/master/LICENSE.md\r\n */\r\n\r\n/*global self */\r\n/*jslint bitwise: true, indent: 4, laxbreak: true, laxcomma: true, smarttabs: true, plusplus: true */\r\n\r\n/*! @source http://purl.eligrey.com/github/FileSaver.js/blob/master/FileSaver.js */\r\n\r\nvar saveAs = saveAs || (function(view) {\r\n    \"use strict\";\r\n    // IE <10 is explicitly unsupported\r\n    if (typeof navigator !== \"undefined\" && /MSIE [1-9]\\./.test(navigator.userAgent)) {\r\n      return;\r\n    }\r\n    var\r\n      doc = view.document\r\n    // only get URL when necessary in case Blob.js hasn't overridden it yet\r\n      , get_URL = function() {\r\n        return view.URL || view.webkitURL || view;\r\n      }\r\n      , save_link = doc.createElementNS(\"http://www.w3.org/1999/xhtml\", \"a\")\r\n      , can_use_save_link = \"download\" in save_link\r\n      , click = function(node) {\r\n        var event = new MouseEvent(\"click\");\r\n        node.dispatchEvent(event);\r\n      }\r\n      , is_safari = /Version\\/[\\d\\.]+.*Safari/.test(navigator.userAgent)\r\n      , webkit_req_fs = view.webkitRequestFileSystem\r\n      , req_fs = view.requestFileSystem || webkit_req_fs || view.mozRequestFileSystem\r\n      , throw_outside = function(ex) {\r\n        (view.setImmediate || view.setTimeout)(function() {\r\n          throw ex;\r\n        }, 0);\r\n      }\r\n      , force_saveable_type = \"application/octet-stream\"\r\n      , fs_min_size = 0\r\n    // the Blob API is fundamentally broken as there is no \"downloadfinished\" event to subscribe to\r\n      , arbitrary_revoke_timeout = 1000 * 40 // in ms\r\n      , revoke = function(file) {\r\n        var revoker = function() {\r\n          if (typeof file === \"string\") { // file is an object URL\r\n            get_URL().revokeObjectURL(file);\r\n          } else { // file is a File\r\n            file.remove();\r\n          }\r\n        };\r\n        /* // Take note W3C:\r\n         var\r\n         uri = typeof file === \"string\" ? file : file.toURL()\r\n         , revoker = function(evt) {\r\n         // idealy DownloadFinishedEvent.data would be the URL requested\r\n         if (evt.data === uri) {\r\n         if (typeof file === \"string\") { // file is an object URL\r\n         get_URL().revokeObjectURL(file);\r\n         } else { // file is a File\r\n         file.remove();\r\n         }\r\n         }\r\n         }\r\n         ;\r\n         view.addEventListener(\"downloadfinished\", revoker);\r\n         */\r\n        setTimeout(revoker, arbitrary_revoke_timeout);\r\n      }\r\n      , dispatch = function(filesaver, event_types, event) {\r\n        event_types = [].concat(event_types);\r\n        var i = event_types.length;\r\n        while (i--) {\r\n          var listener = filesaver[\"on\" + event_types[i]];\r\n          if (typeof listener === \"function\") {\r\n            try {\r\n              listener.call(filesaver, event || filesaver);\r\n            } catch (ex) {\r\n              throw_outside(ex);\r\n            }\r\n          }\r\n        }\r\n      }\r\n      , auto_bom = function(blob) {\r\n        // prepend BOM for UTF-8 XML and text/* types (including HTML)\r\n        if (/^\\s*(?:text\\/\\S*|application\\/xml|\\S*\\/\\S*\\+xml)\\s*;.*charset\\s*=\\s*utf-8/i.test(blob.type)) {\r\n          return new Blob([\"\\ufeff\", blob], {type: blob.type});\r\n        }\r\n        return blob;\r\n      }\r\n      , FileSaver = function(blob, name, no_auto_bom) {\r\n        if (!no_auto_bom) {\r\n          blob = auto_bom(blob);\r\n        }\r\n        // First try a.download, then web filesystem, then object URLs\r\n        var\r\n          filesaver = this\r\n          , type = blob.type\r\n          , blob_changed = false\r\n          , object_url\r\n          , target_view\r\n          , dispatch_all = function() {\r\n            dispatch(filesaver, \"writestart progress write writeend\".split(\" \"));\r\n          }\r\n        // on any filesys errors revert to saving with object URLs\r\n          , fs_error = function() {\r\n            if (target_view && is_safari && typeof FileReader !== \"undefined\") {\r\n              // Safari doesn't allow downloading of blob urls\r\n              var reader = new FileReader();\r\n              reader.onloadend = function() {\r\n                var base64Data = reader.result;\r\n                target_view.location.href = \"data:attachment/file\" + base64Data.slice(base64Data.search(/[,;]/));\r\n                filesaver.readyState = filesaver.DONE;\r\n                dispatch_all();\r\n              };\r\n              reader.readAsDataURL(blob);\r\n              filesaver.readyState = filesaver.INIT;\r\n              return;\r\n            }\r\n            // don't create more object URLs than needed\r\n            if (blob_changed || !object_url) {\r\n              object_url = get_URL().createObjectURL(blob);\r\n            }\r\n            if (target_view) {\r\n              target_view.location.href = object_url;\r\n            } else {\r\n              var new_tab = view.open(object_url, \"_blank\");\r\n              if (new_tab === undefined && is_safari) {\r\n                //Apple do not allow window.open, see http://bit.ly/1kZffRI\r\n                view.location.href = object_url\r\n              }\r\n            }\r\n            filesaver.readyState = filesaver.DONE;\r\n            dispatch_all();\r\n            revoke(object_url);\r\n          }\r\n          , abortable = function(func) {\r\n            return function() {\r\n              if (filesaver.readyState !== filesaver.DONE) {\r\n                return func.apply(this, arguments);\r\n              }\r\n            };\r\n          }\r\n          , create_if_not_found = {create: true, exclusive: false}\r\n          , slice\r\n          ;\r\n        filesaver.readyState = filesaver.INIT;\r\n        if (!name) {\r\n          name = \"download\";\r\n        }\r\n        if (can_use_save_link) {\r\n          object_url = get_URL().createObjectURL(blob);\r\n          setTimeout(function() {\r\n            save_link.href = object_url;\r\n            save_link.download = name;\r\n            click(save_link);\r\n            dispatch_all();\r\n            revoke(object_url);\r\n            filesaver.readyState = filesaver.DONE;\r\n          });\r\n          return;\r\n        }\r\n        // Object and web filesystem URLs have a problem saving in Google Chrome when\r\n        // viewed in a tab, so I force save with application/octet-stream\r\n        // http://code.google.com/p/chromium/issues/detail?id=91158\r\n        // Update: Google errantly closed 91158, I submitted it again:\r\n        // https://code.google.com/p/chromium/issues/detail?id=389642\r\n        if (view.chrome && type && type !== force_saveable_type) {\r\n          slice = blob.slice || blob.webkitSlice;\r\n          blob = slice.call(blob, 0, blob.size, force_saveable_type);\r\n          blob_changed = true;\r\n        }\r\n        // Since I can't be sure that the guessed media type will trigger a download\r\n        // in WebKit, I append .download to the filename.\r\n        // https://bugs.webkit.org/show_bug.cgi?id=65440\r\n        if (webkit_req_fs && name !== \"download\") {\r\n          name += \".download\";\r\n        }\r\n        if (type === force_saveable_type || webkit_req_fs) {\r\n          target_view = view;\r\n        }\r\n        if (!req_fs) {\r\n          fs_error();\r\n          return;\r\n        }\r\n        fs_min_size += blob.size;\r\n        req_fs(view.TEMPORARY, fs_min_size, abortable(function(fs) {\r\n          fs.root.getDirectory(\"saved\", create_if_not_found, abortable(function(dir) {\r\n            var save = function() {\r\n              dir.getFile(name, create_if_not_found, abortable(function(file) {\r\n                file.createWriter(abortable(function(writer) {\r\n                  writer.onwriteend = function(event) {\r\n                    target_view.location.href = file.toURL();\r\n                    filesaver.readyState = filesaver.DONE;\r\n                    dispatch(filesaver, \"writeend\", event);\r\n                    revoke(file);\r\n                  };\r\n                  writer.onerror = function() {\r\n                    var error = writer.error;\r\n                    if (error.code !== error.ABORT_ERR) {\r\n                      fs_error();\r\n                    }\r\n                  };\r\n                  \"writestart progress write abort\".split(\" \").forEach(function(event) {\r\n                    writer[\"on\" + event] = filesaver[\"on\" + event];\r\n                  });\r\n                  writer.write(blob);\r\n                  filesaver.abort = function() {\r\n                    writer.abort();\r\n                    filesaver.readyState = filesaver.DONE;\r\n                  };\r\n                  filesaver.readyState = filesaver.WRITING;\r\n                }), fs_error);\r\n              }), fs_error);\r\n            };\r\n            dir.getFile(name, {create: false}, abortable(function(file) {\r\n              // delete file if it already exists\r\n              file.remove();\r\n              save();\r\n            }), abortable(function(ex) {\r\n              if (ex.code === ex.NOT_FOUND_ERR) {\r\n                save();\r\n              } else {\r\n                fs_error();\r\n              }\r\n            }));\r\n          }), fs_error);\r\n        }), fs_error);\r\n      }\r\n      , FS_proto = FileSaver.prototype\r\n      , saveAs = function(blob, name, no_auto_bom) {\r\n        return new FileSaver(blob, name, no_auto_bom);\r\n      }\r\n      ;\r\n    // IE 10+ (native saveAs)\r\n    if (typeof navigator !== \"undefined\" && navigator.msSaveOrOpenBlob) {\r\n      return function(blob, name, no_auto_bom) {\r\n        if (!no_auto_bom) {\r\n          blob = auto_bom(blob);\r\n        }\r\n        return navigator.msSaveOrOpenBlob(blob, name || \"download\");\r\n      };\r\n    }\r\n\r\n    FS_proto.abort = function() {\r\n      var filesaver = this;\r\n      filesaver.readyState = filesaver.DONE;\r\n      dispatch(filesaver, \"abort\");\r\n    };\r\n    FS_proto.readyState = FS_proto.INIT = 0;\r\n    FS_proto.WRITING = 1;\r\n    FS_proto.DONE = 2;\r\n\r\n    FS_proto.error =\r\n      FS_proto.onwritestart =\r\n        FS_proto.onprogress =\r\n          FS_proto.onwrite =\r\n            FS_proto.onabort =\r\n              FS_proto.onerror =\r\n                FS_proto.onwriteend =\r\n                  null;\r\n\r\n    return saveAs;\r\n  }(\r\n    typeof self !== \"undefined\" && self\r\n    || typeof window !== \"undefined\" && window\r\n    || this.content\r\n  ));\r\n// `self` is undefined in Firefox for Android content script context\r\n// while `this` is nsIContentFrameMessageManager\r\n// with an attribute `content` that corresponds to the window\r\n\r\nif (typeof module !== \"undefined\" && module.exports) {\r\n  module.exports.saveAs = saveAs;\r\n} else if ((typeof define !== \"undefined\" && define !== null) && (define.amd !== null)) {\r\n  define([], function() {\r\n    return saveAs;\r\n  });\r\n}"]}