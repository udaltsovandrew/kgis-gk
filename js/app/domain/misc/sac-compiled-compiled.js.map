{"version":3,"sources":["sac-compiled.js"],"names":[],"mappings":"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","file":"sac-compiled-compiled.js","sourcesContent":["function _asyncToGenerator(fn) { return function () { var gen = fn.apply(this, arguments); return new Promise(function (resolve, reject) { function step(key, arg) { try { var info = gen[key](arg); var value = info.value; } catch (error) { reject(error); return; } if (info.done) { resolve(value); } else { return Promise.resolve(value).then(function (value) { return step(\"next\", value); }, function (err) { return step(\"throw\", err); }); } } return step(\"next\"); }); }; }\n\n/**\n * Created by lomteva.aa on 23.08.2016.\n */\ndefine([\"./js/app/forms/forms-compiled.js\", \"./js/app/dataAccess/model-compiled.js\", \"./js/app/domain/http-compiled.js\", \"./js/app/domain/dxf.js\", \"./js/app/domain/generators-compiled.js\", \"./js/app/domain/carto-compiled.js\"], function (forms, model, httpUtils, dxfUtils, generators, carto) {\n  let showSituationCenterMessages = (() => {\n    var ref = _asyncToGenerator(function* () {\n      const windowName = \"situationCenter-container\";\n      const tableName = \"Message-List\";\n      forms.toWindow(windowName, \"Сведения САЦ\");\n      forms.showWindow(windowName);\n\n      bindClick(\"addMessage\", _asyncToGenerator(function* () {\n        var protoFeature = generators.Message.default;\n        protoFeature.geometry = carto.getGpxPoint();\n        protoFeature.attributes.subject = userAccount.userName;\n        //protoFeature.attributes.createdDateTime =;\n        var data = yield db.Message.add(protoFeature);\n        var id = data[0][0].objectId;\n        data = yield db.Message.getById(id);\n        var feature = context.first(data);\n        forms.appendRowInTable(tableName, feature.attributes);\n      }));\n\n      bindClick(\"editMessage\", _asyncToGenerator(function* () {\n        var objectId = forms.getObjectID(tableName);\n        var data = yield db.Message.getById(objectId);\n        var feature = context.first(data);\n        forms.open(\"Message\", feature);\n      }));\n\n      bindClick(\"deleteMessage\", _asyncToGenerator(function* () {\n        var ids = forms.getObjectIDS(tableName);\n        forms.removeSelectedRows(tableName);\n        for (var i = 0; i < ids.length; i++) {\n          db.Message.delById(ids[i]);\n        }\n      }));\n\n      var data = yield db.Message.get({ where: \"1=1\" });\n      var features = context.all(data);\n      forms.createTable(tableName, features, \"Message\");\n    });\n\n    return function showSituationCenterMessages() {\n      return ref.apply(this, arguments);\n    };\n  })();\n\n  var context = new model({ url: \"\", className: \"context\", map: map });\n\n  return {\n    showSituationCenterMessages: showSituationCenterMessages\n  };\n});\n\n//# sourceMappingURL=sac-compiled.js.map"]}