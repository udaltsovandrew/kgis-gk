{"version":3,"sources":["powerLine.js"],"names":[],"mappings":";;;AAGA;;AAEA,OAAO,CACH,uCADG,EAEH,wCAFG,CAAP,EAIE,UAAU,KAAV,EACU,UADV,EACsB;;AAEpB,MAAI,UAAU,IAAI,KAAJ,CAAU,EAAC,KAAK,EAAL,EAAS,WAAW,EAAX,EAAe,KAAK,GAAL,EAAnC,CAAV,CAFgB;;AAIpB,MAAI,QAAQ;AACV,UAAM;AACJ,iBAAW,WAAX;KADF;AAGA,iBAAa,CACX;AACE,iBAAW,cAAX;KAFS,EAIX;AACE,iBAAW,QAAX;KALS,CAAb;AAQA,WAAO,CACL;AACE,iBAAW,WAAX;KAFG,EAIL;AACE,iBAAW,QAAX;KALG,CAAP;GAZE,CAJgB;;AA0BpB,WAAS,MAAT,CAAgB,IAAhB,EAAsB;AACpB,QAAI,UAAU,WAAW,SAAX,CAAqB,OAArB,CADM;AAEpB,YAAQ,QAAR,GAAmB,IAAnB,CAFoB;AAGpB,WAAO,GAAG,SAAH,CACJ,GADI,CACA,OADA,EAEJ,IAFI,CAEC,UAAU,IAAV,EAAgB;AACpB,UAAI,KAAK,KAAK,CAAL,EAAQ,CAAR,EAAW,QAAX,CADW;AAEpB,aAAO,GAAG,SAAH,CAAa,OAAb,CAAqB,EAArB,CAAP,CAFoB;KAAhB,CAFR,CAHoB;GAAtB;;AAWA,WAAS,aAAT,CAAuB,IAAvB,EAA4B;AAC1B,QAAI,UAAU,WAAW,SAAX,CAAqB,OAArB,CADY;AAE1B,YAAQ,QAAR,GAAmB,IAAnB,CAF0B;AAG1B,WAAO,GAAG,SAAH,CAAa,GAAb,CAAiB,OAAjB,CAAP,CAH0B;GAA5B;;AAMA,WAAS,IAAT,CAAc,EAAd,EAAkB;AAChB,WAAO,GAAG,SAAH,CAAa,OAAb,CAAqB,EAArB,CAAP,CADgB;GAAlB;;AAIA,WAAS,MAAT,CAAgB,IAAhB,EAAsB,EAAtB;;AAIA,WAAS,GAAT,CAAa,EAAb,EAAiB;AACf,WAAO,GAAG,SAAH,CAAa,OAAb,CAAqB,EAArB,CAAP,CADe;GAAjB;;AAIA,SAAO;AACL,WAAO,KAAP;AACA,YAAQ,MAAR;AACA,UAAM,IAAN;AACA,YAAQ,MAAR;AACA,SAAK,GAAL;AACA,mBAAe,aAAf;GANF,CAvDoB;CADtB,CAJF","file":"powerLine-compiled.js","sourcesContent":["/**\r\n * Created by udaltsov on 30.10.15.\r\n */\r\n\"use strict\";\r\n\r\ndefine([\r\n    \"./js/app/dataAccess/model-compiled.js\",\r\n    \"./js/app/domain/generators-compiled.js\"\r\n  ],\r\n  function (model,\r\n            generators) {\r\n\r\n    var context = new model({url: \"\", className: \"\", map: map});\r\n\r\n    var proto = {\r\n      base: {\r\n        className: \"PowerLine\"\r\n      },\r\n      connections: [\r\n        {\r\n          className: \"VoltageLevel\"\r\n        },\r\n        {\r\n          className: \"Switch\"\r\n        }\r\n      ],\r\n      links: [\r\n        {\r\n          className: \"Structure\"\r\n        },\r\n        {\r\n          className: \"Switch\"\r\n        }\r\n      ]\r\n    };\r\n\r\n    function create(line) {\r\n      var feature = generators.PowerLine.default;\r\n      feature.geometry = line;\r\n      return db.PowerLine\r\n        .add(feature)\r\n        .then(function (data) {\r\n          var id = data[0][0].objectId;\r\n          return db.PowerLine.getById(id)\r\n        });\r\n    }\r\n\r\n    function createDefault(line){\r\n      var feature = generators.PowerLine.default;\r\n      feature.geometry = line;\r\n      return db.PowerLine.add(feature);\r\n    }\r\n\r\n    function read(id) {\r\n      return db.PowerLine.getById(id);\r\n    }\r\n\r\n    function update(data) {\r\n\r\n    }\r\n\r\n    function del(id) {\r\n      return db.PowerLine.delById(id);\r\n    }\r\n\r\n    return {\r\n      proto: proto,\r\n      create: create,\r\n      read: read,\r\n      update: update,\r\n      del: del,\r\n      createDefault: createDefault\r\n    }\r\n  });\r\n"]}