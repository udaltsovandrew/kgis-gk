{"version":3,"sources":["utils-compiled.js"],"names":[],"mappings":"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","file":"utils-compiled-compiled.js","sourcesContent":["function _asyncToGenerator(fn) { return function () { var gen = fn.apply(this, arguments); return new Promise(function (resolve, reject) { function step(key, arg) { try { var info = gen[key](arg); var value = info.value; } catch (error) { reject(error); return; } if (info.done) { resolve(value); } else { return Promise.resolve(value).then(function (value) { return step(\"next\", value); }, function (err) { return step(\"throw\", err); }); } } return step(\"next\"); }); }; }\n\n/**\n * Created by lomteva.aa on 06.05.2016.\n */\ndefine(['./js/app/dataAccess/model-compiled.js', '../../../../Application/' + _currentServer + '/config/config.js'], function (model, config) {\n\n  function getElementFromArray(arr, prop, value) {\n    for (var i = 0; i < arr.length; i++) {\n      if (arr[i][prop] === value) return arr[i];\n    }\n    return {};\n  }\n\n  return {\n    getDocuments: (() => {\n      var ref = _asyncToGenerator(function* (className, id, documentType) {\n        var db = {};\n        db[\"Document\"] = new model({\n          url: getElementFromArray(config.editors, \"id\", \"Document\")[\"url\"],\n          className: \"Document\"\n        });\n        db[\"DocumentIdentificationObjectRole\"] = new model({\n          url: getElementFromArray(config.editors, \"id\", \"DocumentIdentificationObjectRole\")[\"url\"],\n          className: \"DocumentIdentificationObjectRole\"\n        });\n        var where = \"parentClassName='\" + className + \"' AND chieldClassName='Document' AND parentMRID=\" + id;\n        var data = yield db.DocumentIdentificationObjectRole.get({ where: where });\n        var containers = data.features;\n        var docIds = containers.map(function (item) {\n          return item.attributes.chieldMRID;\n        });\n        data = yield db.Document.getByArray(docIds);\n        var documents = data.features;\n        documents = documents.map(function (item) {\n          if (!documentType) {\n            return item;\n          } else {\n            if (item.attributes.docType === documentType) {\n              return item;\n            }\n          }\n        });\n        return documents;\n      });\n\n      return function getDocuments(_x, _x2, _x3) {\n        return ref.apply(this, arguments);\n      };\n    })()\n  };\n});\n\n//# sourceMappingURL=utils-compiled.js.map"]}